"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9065],{88714:function(t,e,n){n.d(e,{Oq:function(){return N},ZP:function(){return G},or:function(){return L}});var r=n(64993),o=n(77460),i=n(2784),a=n(73805),l=n(89549),s=n(13980),c=n.n(s),u=n(72779),f=n.n(u),p=n(62401),d=n(86363),h=["top","left","xScale","yScale","width","height","className","stroke","strokeWidth","strokeDasharray","numTicksRows","numTicksColumns","rowLineStyle","columnLineStyle","xOffset","yOffset","rowTickValues","columnTickValues"];function v(){return(v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function y(t){var e=t.top,n=t.left,r=t.xScale,o=t.yScale,a=t.width,s=t.height,c=t.className,u=t.stroke,y=t.strokeWidth,m=t.strokeDasharray,b=t.numTicksRows,g=t.numTicksColumns,x=t.rowLineStyle,O=t.columnLineStyle,k=t.xOffset,w=t.yOffset,j=t.rowTickValues,T=t.columnTickValues,S=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,h);return i.createElement(l.Z,{className:f()("visx-grid",c),top:e,left:n},i.createElement(p.Z,v({className:c,scale:o,width:a,stroke:u,strokeWidth:y,strokeDasharray:m,numTicks:b,lineStyle:x,offset:w,tickValues:j},S)),i.createElement(d.Z,v({className:c,scale:r,height:s,stroke:u,strokeWidth:y,strokeDasharray:m,numTicks:g,lineStyle:O,offset:k,tickValues:T},S)))}y.propTypes={rowTickValues:c().array,columnTickValues:c().array};var m=n(35381),b=n(52085),g=n(27069),x=n(42613),O=n(53188),k=n(16721),w=n(68209),j=n(37409),T=n(77372),S=n(23228),R=n(9527),Z=n(52322);function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var C,L="#a44afe",N="#eaedff",_={top:40,right:0,bottom:0,left:0},D=P(P({},w.j),{},{minWidth:60,backgroundColor:"rgba(0,0,0,0.9)",color:"white"}),V=b.Z.slice(0,12),z=Object.keys(V[0]).filter((function(t){return"date"!==t})),B=V.reduce((function(t,e){var n=z.reduce((function(t,n){return t+=Number(e[n])}),0);return t.push(n),t}),[]),I=(0,k.Z1)("%Y-%m-%d"),M=(0,k.i$)("%b %d"),Y=function(t){return M(I(t))},A=function(t){return t.date},W=(0,g.Z)({domain:V.map(A),padding:.2}),F=(0,x.Z)({domain:[0,Math.max.apply(Math,(0,r.Z)(B))],nice:!0}),q=(0,O.Z)({domain:z,range:["#6c5efb","#c998ff",L]});function G(t){var e=t.width,n=t.height,r=t.events,o=void 0!==r&&r,i=t.margin,s=void 0===i?_:i,c=(0,j.Z)(),u=c.tooltipOpen,f=c.tooltipLeft,p=c.tooltipTop,d=c.tooltipData,h=c.hideTooltip,v=c.showTooltip,b=(0,T.Z)({scroll:!0}),g=b.containerRef,x=b.TooltipInPortal;if(e<10)return null;var O=e,k=n-s.top-100;return W.rangeRound([0,O]),F.range([k,0]),e<10?null:(0,Z.jsxs)("div",{style:{position:"relative"},children:[(0,Z.jsxs)("svg",{ref:g,width:e,height:n,children:[(0,Z.jsx)("rect",{x:0,y:0,width:e,height:n,fill:N,rx:14}),(0,Z.jsx)(y,{top:s.top,left:s.left,xScale:W,yScale:F,width:O,height:k,stroke:"black",strokeOpacity:.1,xOffset:W.bandwidth()/2}),(0,Z.jsx)(l.Z,{top:s.top,children:(0,Z.jsx)(a.Z,{data:V,keys:z,x:A,xScale:W,yScale:F,color:q,children:function(t){return t.map((function(t){return t.bars.map((function(e){return(0,Z.jsx)("rect",{x:e.x,y:e.y,height:e.height,width:e.width,fill:e.color,onClick:function(){o&&alert("clicked: ".concat(JSON.stringify(e)))},onMouseLeave:function(){C=window.setTimeout((function(){h()}),300)},onMouseMove:function(t){C&&clearTimeout(C);var n=(0,R.Z)(t),r=e.x+e.width/2;v({tooltipData:e,tooltipTop:null===n||void 0===n?void 0:n.y,tooltipLeft:r})}},"bar-stack-".concat(t.index,"-").concat(e.index))}))}))}})}),(0,Z.jsx)(m.Z,{top:k+s.top,scale:W,tickFormat:Y,stroke:L,tickStroke:L,tickLabelProps:{fill:L,fontSize:11,textAnchor:"middle"}})]}),(0,Z.jsx)("div",{style:{position:"absolute",top:s.top/2-10,width:"100%",display:"flex",justifyContent:"center",fontSize:"14px"},children:(0,Z.jsx)(S.Z,{scale:q,direction:"row",labelMargin:"0 15px 0 0"})}),u&&d&&(0,Z.jsxs)(x,{top:p,left:f,style:D,children:[(0,Z.jsx)("div",{style:{color:q(d.key)},children:(0,Z.jsx)("strong",{children:d.key})}),(0,Z.jsxs)("div",{children:[d.bar.data[d.key],"\u2109"]}),(0,Z.jsx)("div",{children:(0,Z.jsx)("small",{children:Y(A(d.bar.data))})})]})]})}try{G.displayName="Example",G.__docgenInfo={description:"",displayName:"Example",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},margin:{defaultValue:null,description:"",name:"margin",required:!1,type:{name:"{ top: number; right: number; bottom: number; left: number; }"}},events:{defaultValue:{value:!1},description:"",name:"events",required:!1,type:{name:"boolean"}}}},"undefined"!==typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/sandboxes/visx-barstack/Example.tsx#Example"]={docgenInfo:G.__docgenInfo,name:"Example",path:"src/sandboxes/visx-barstack/Example.tsx#Example"})}catch(H){}},35381:function(t,e,n){n.d(e,{Z:function(){return f}});var r=n(2784),o=n(72779),i=n.n(o),a=n(26543),l=n(34237),s=["axisClassName","labelOffset","tickLength","tickLabelProps"];function c(){return(c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var u={dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"middle"};function f(t){var e=t.axisClassName,n=t.labelOffset,o=void 0===n?8:n,f=t.tickLength,p=void 0===f?8:f,d=t.tickLabelProps,h=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,s),v="function"===typeof d?d:c({},u,d);return r.createElement(a.Z,c({axisClassName:i()("visx-axis-bottom",e),labelOffset:o,orientation:l.Z.bottom,tickLabelProps:v,tickLength:p},h))}},41781:function(t,e,n){n.d(e,{Z:function(){return s}});var r=n(2784),o=n(28316);function i(){return(i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var l={top:0,right:0,bottom:0,left:0,width:0,height:0};function s(t){var e;return(e=function(e){var n,s;function c(t){var n;return(n=e.call(this,t)||this).state={rect:void 0,parentRect:void 0},n.nodeRef=r.createRef(),n.getRects=n.getRects.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}s=e,(n=c).prototype=Object.create(s.prototype),n.prototype.constructor=n,a(n,s);var u=c.prototype;return u.componentDidMount=function(){var t,e=this;this.node=null!=(t=this.nodeRef)&&t.current?this.nodeRef.current:o.findDOMNode(this),this.setState((function(){return e.getRects()}))},u.getRects=function(){if(!this.node)return this.state;var t=this.node,e=t.parentNode;return{rect:t.getBoundingClientRect?t.getBoundingClientRect():l,parentRect:null!=e&&e.getBoundingClientRect?e.getBoundingClientRect():l}},u.render=function(){return r.createElement(t,i({nodeRef:this.nodeRef,getRects:this.getRects},this.state,this.props))},c}(r.PureComponent)).displayName="withBoundingRects("+(t.displayName||"")+")",e}},9527:function(t,e,n){n.d(e,{Z:function(){return i}});var r=n(78481),o=n(47513);function i(t,e){if((0,o.kK)(t)&&e)return(0,r.Z)(t,e);if((0,o.cO)(t)){var n=t,i=n.target;if(i)return(0,r.Z)(i,n)}return null}},78481:function(t,e,n){n.d(e,{Z:function(){return l}});var r=n(79196),o=n(47513);function i(){return(i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var a={x:0,y:0};function l(t,e){if(!t||!e)return null;var n=function(t){if(!t)return i({},a);if((0,o.z6)(t))return t.changedTouches.length>0?{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}:i({},a);if((0,o.N5)(t))return{x:t.clientX,y:t.clientY};var e=null==t?void 0:t.target,n=e&&"getBoundingClientRect"in e?e.getBoundingClientRect():null;return n?{x:n.x+n.width/2,y:n.y+n.height/2}:i({},a)}(e),l=(0,o.vZ)(t)?t.ownerSVGElement:t,s=(0,o.DY)(l)?l.getScreenCTM():null;if((0,o.r4)(l)&&s){var c=l.createSVGPoint();return c.x=n.x,c.y=n.y,c=c.matrixTransform(s.inverse()),new r.Z({x:c.x,y:c.y})}var u=t.getBoundingClientRect();return new r.Z({x:n.x-u.left-t.clientLeft,y:n.y-u.top-t.clientTop})}},47513:function(t,e,n){function r(t){return!!t&&t instanceof Element}function o(t){return!!t&&(t instanceof SVGElement||"ownerSVGElement"in t)}function i(t){return!!t&&"createSVGPoint"in t}function a(t){return!!t&&"getScreenCTM"in t}function l(t){return!!t&&"changedTouches"in t}function s(t){return!!t&&"clientX"in t}function c(t){return!!t&&(t instanceof Event||"nativeEvent"in t&&t.nativeEvent instanceof Event)}n.d(e,{kK:function(){return r},vZ:function(){return o},r4:function(){return i},DY:function(){return a},z6:function(){return l},N5:function(){return s},cO:function(){return c}})},37409:function(t,e,n){n.d(e,{Z:function(){return a}});var r=n(2784),o=["tooltipOpen"];function i(){return(i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function a(t){var e=(0,r.useState)(i({tooltipOpen:!1},t)),n=e[0],a=e[1],l=(0,r.useCallback)((function(t){return a("function"===typeof t?function(e){e.tooltipOpen;var n=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(e,o);return i({},t(n),{tooltipOpen:!0})}:{tooltipOpen:!0,tooltipLeft:t.tooltipLeft,tooltipTop:t.tooltipTop,tooltipData:t.tooltipData})}),[a]),s=(0,r.useCallback)((function(){return a({tooltipOpen:!1,tooltipLeft:void 0,tooltipTop:void 0,tooltipData:void 0})}),[a]);return{tooltipOpen:n.tooltipOpen,tooltipLeft:n.tooltipLeft,tooltipTop:n.tooltipTop,tooltipData:n.tooltipData,updateTooltip:a,showTooltip:l,hideTooltip:s}}},77372:function(t,e,n){n.d(e,{Z:function(){return y}});var r=n(2784),o=n(731),i=n(13980),a=n.n(i),l=n(28316);function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,s(e,n);var o=r.prototype;return o.componentWillUnmount=function(){this.node&&document.body&&(document.body.removeChild(this.node),delete this.node)},o.render=function(){return this.node||"undefined"===typeof document||(this.node=document.createElement("div"),null!=this.props.zIndex&&(this.node.style.zIndex=""+this.props.zIndex),document.body.append(this.node)),this.node?l.createPortal(this.props.children,this.node):null},r}(r.PureComponent);c.propTypes={zIndex:a().oneOfType([a().number,a().string])};var u=n(68209),f=n(2459),p=["detectBounds","zIndex"],d=["left","top","detectBounds","zIndex"];function h(){return(h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function v(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}function y(t){var e=void 0===t?{}:t,n=e.detectBounds,i=void 0===n||n,a=e.zIndex,l=v(e,p),s=(0,o.Z)(l),y=s[0],m=s[1],b=s[2],g=(0,r.useState)(!1),x=g[0],O=g[1];(0,r.useEffect)((function(){O(!1)}),[]);var k=(0,r.useMemo)((function(){return function(t){var e=t.left,n=void 0===e?0:e,o=t.top,l=void 0===o?0:o,s=t.detectBounds,p=t.zIndex,y=v(t,d),b=null==p?a:p,g=(null==s?i:s)?f.Z:u.Z,O=x?0:window.scrollX,k=x?0:window.scrollY,w=n+(m.left||0)+O,j=l+(m.top||0)+k;return r.createElement(c,{zIndex:b},r.createElement(g,h({left:w,top:j},y)))}}),[i,a,m.left,m.top,x]);return{containerRef:y,containerBounds:m,forceRefreshBounds:b,TooltipInPortal:k}}},68209:function(t,e,n){n.d(e,{j:function(){return u}});var r=n(13980),o=n.n(r),i=n(2784),a=n(72779),l=n.n(a),s=["className","top","left","offsetLeft","offsetTop","style","children","unstyled","applyPositionStyle"];function c(){return(c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var u={position:"absolute",backgroundColor:"white",color:"#666666",padding:".3rem .5rem",borderRadius:"3px",fontSize:"14px",boxShadow:"0 1px 2px rgba(33,33,33,0.2)",lineHeight:"1em",pointerEvents:"none"},f=i.forwardRef((function(t,e){var n=t.className,r=t.top,o=t.left,a=t.offsetLeft,f=void 0===a?10:a,p=t.offsetTop,d=void 0===p?10:p,h=t.style,v=void 0===h?u:h,y=t.children,m=t.unstyled,b=void 0!==m&&m,g=t.applyPositionStyle,x=void 0!==g&&g,O=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,s);return i.createElement("div",c({ref:e,className:l()("visx-tooltip",n),style:c({top:null==r||null==d?r:r+d,left:null==o||null==f?o:o+f},x&&{position:"absolute"},!b&&v)},O),y)}));f.propTypes={children:o().node,className:o().string,left:o().number,offsetLeft:o().number,offsetTop:o().number,top:o().number,applyPositionStyle:o().bool,unstyled:o().bool},f.displayName="Tooltip",e.Z=f},2459:function(t,e,n){n.d(e,{Z:function(){return d}});var r=n(13980),o=n.n(r),i=n(2784),a=n(41781),l=n(68209),s=(0,i.createContext)({isFlippedVertically:!1,isFlippedHorizontally:!1}),c=s.Provider,u=(s.Consumer,["children","getRects","left","offsetLeft","offsetTop","parentRect","rect","style","top","unstyled","nodeRef"]);function f(){return(f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function p(t){var e,n=t.children,r=(t.getRects,t.left),o=void 0===r?0:r,a=t.offsetLeft,s=void 0===a?10:a,p=t.offsetTop,d=void 0===p?10:p,h=t.parentRect,v=t.rect,y=t.style,m=void 0===y?l.j:y,b=t.top,g=void 0===b?0:b,x=t.unstyled,O=void 0!==x&&x,k=t.nodeRef,w=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,u),j=!1,T=!1;if(v&&h){var S=o,R=g;if(h.width){var Z=S+s+v.width-h.width,E=v.width-S-s;j=Z>0&&Z>E}else{var P=S+s+v.width-window.innerWidth,C=v.width-S-s;j=P>0&&P>C}if(h.height){var L=R+d+v.height-h.height,N=v.height-R-d;T=L>0&&L>N}else T=R+d+v.height>window.innerHeight;S=j?S-v.width-s:S+s,R=T?R-v.height-d:R+d,e="translate("+(S=Math.round(S))+"px, "+(R=Math.round(R))+"px)"}return i.createElement(l.Z,f({ref:k,style:f({left:0,top:0,transform:e},!O&&m)},w),i.createElement(c,{value:{isFlippedVertically:!T,isFlippedHorizontally:!j}},n))}p.propTypes={nodeRef:o().oneOfType([o().string,o().func,o().object])};var d=(0,a.Z)(p)},76074:function(t){t.exports=JSON.parse('{"name":"@visx/demo-barstack","description":"Standalone visx stacked bar demo.","main":"index.tsx","private":true,"dependencies":{"@babel/runtime":"^7.8.4","@types/react":"^18","@types/react-dom":"^18","@visx/axis":"latest","@visx/event":"latest","@visx/grid":"latest","@visx/group":"latest","@visx/legend":"latest","@visx/mock-data":"latest","@visx/responsive":"latest","@visx/scale":"latest","@visx/shape":"latest","@visx/tooltip":"latest","@visx/vendor":"latest","react":"^18","react-dom":"^18","react-scripts-ts":"3.1.0","typescript":"^3"},"keywords":["visualization","d3","react","visx","barstack"]}')}}]);