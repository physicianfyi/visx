"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9123],{70790:function(e,n,t){t.d(n,{ZP:function(){return B},WO:function(){return I}});var a=t(23712),s=t(2784),i=t(13980),o=t.n(i),r=t(72779),l=t.n(r),c=t(731),d=t(89549),u=t(55021),h=t(16148);function x(){return(x=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}var p={display:"inline-block"};function m(e){var n=e.anchorLineStroke,t=void 0===n?"#222":n,a=e.children,i=e.className,o=e.containerStyle,r=e.horizontalAnchor,m=e.resizeObserverPolyfill,j=e.showAnchorLine,f=void 0===j||j,v=e.verticalAnchor,b=e.x,y=e.y,g=(0,c.Z)({polyfill:m}),N=g[0],S=g[1],k=S.width,C=S.height,O=(0,s.useContext)(u.Z),w=O.x,E=void 0===w?0:w,A=O.y,_=void 0===A?0:A,T=O.dx,L=void 0===T?0:T,P=O.dy,Z=void 0===P?0:P,z=r||(Math.abs(L)<Math.abs(Z)?"middle":L>0?"start":"end"),D=v||(Math.abs(L)>Math.abs(Z)?"middle":Z>0?"start":"end"),V=(0,s.useMemo)((function(){var e=null==b?E+L:b,n=null==y?_+Z:y;return"middle"===z&&(e-=k/2),"end"===z&&(e-=k),"middle"===D&&(n-=C/2),"end"===D&&(n-=C),{x:e,y:n}}),[b,E,L,y,_,Z,z,D,k,C]);return s.createElement(d.Z,{top:V.y,left:V.x,pointerEvents:"none",className:l()("visx-annotationlabel",i)},s.createElement("foreignObject",{width:k,height:C,overflow:"visible"},s.createElement("div",{ref:N,style:o?x({},p,o):p},a)),f&&s.createElement(h.Z,{anchorLineOrientation:Math.abs(L)>Math.abs(Z)?"vertical":"horizontal",anchorLineStroke:t,verticalAnchor:D,horizontalAnchor:z,width:k,height:C}))}m.propTypes={children:o().node};var j=t(27282),f=t(57007),v=t(7424),b=t(63358),y=t(58500),g=t(77460),N=t(76422),S=t(12722),k=t(82790),C=t(42613),O=t(54048),w=t(95822),E=t(45191),A=t(52322);function _(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function T(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_(Object(t),!0).forEach((function(n){(0,g.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var L=S.Z.slice(-100),P=function(e){return new Date(e.date).valueOf()},Z=function(e){return e.close},z=L[Math.floor(L.length/2)+4];function D(e){var n,t,a=e.width,i=e.height,o=e.compact,r=void 0!==o&&o,l=e.children,c=(0,s.useMemo)((function(){return(0,k.Z)({domain:(0,O.Z)(L,(function(e){return P(e)})),range:[0,a]})}),[a]),d=(0,s.useMemo)((function(){return(0,C.Z)({domain:(0,O.Z)(L,(function(e){return Z(e)})),range:[i-100,100]})}),[i]),u=(0,s.useState)(!1),h=u[0],x=u[1],p=(0,s.useState)(!1),m=p[0],j=p[1],f=(0,s.useState)("Title"),v=f[0],b=f[1],y=(0,s.useState)(r?"Subtitle":"Subtitle with deets and deets and deets and deets"),g=y[0],S=y[1],_=(0,s.useState)("elbow"),D=_[0],V=_[1],R=(0,s.useState)("circle"),q=R[0],M=R[1],I=(0,s.useState)(!0),B=I[0],H=I[1],K=(0,s.useState)("svg"),Y=K[0],W=K[1],F=(0,s.useState)("auto"),J=F[0],G=F[1],Q=(0,s.useState)("auto"),U=Q[0],X=Q[1],$=(0,s.useState)(r?100:175)[0],ee=(0,s.useState)({x:null!==(n=c(P(z)))&&void 0!==n?n:0,y:null!==(t=d(Z(z)))&&void 0!==t?t:0,dx:r?-50:-100,dy:r?-30:-50}),ne=ee[0],te=ee[1];return(0,s.useEffect)((function(){te((function(e){var n,t;return T(T({},e),{},{x:null!==(n=c(P(z)))&&void 0!==n?n:0,y:null!==(t=d(Z(z)))&&void 0!==t?t:0})}))}),[c,d]),(0,A.jsxs)(A.Fragment,{children:[l({AnnotationComponent:h||m?w.Z:E.Z,annotationPosition:ne,approxTooltipHeight:70,connectorType:D,data:L,editLabelPosition:h,editSubjectPosition:m,getDate:P,getStockValue:Z,horizontalAnchor:"auto"===U?void 0:U,labelType:Y,labelWidth:$,setAnnotationPosition:te,showAnchorLine:B,subjectType:q,subtitle:g,title:v,verticalAnchor:"auto"===J?void 0:J,xScale:c,yScale:d}),!r&&(0,A.jsxs)("div",{className:"jsx-272244364 controls",children:[(0,A.jsxs)("div",{className:"jsx-272244364",children:[(0,A.jsxs)("label",{className:"jsx-272244364",children:[(0,A.jsx)("strong",{className:"jsx-272244364",children:"Title"}),"\xa0\xa0",(0,A.jsx)("input",{type:"text",onChange:function(e){return b(e.target.value)},value:v,className:"jsx-272244364"})]}),"\xa0\xa0\xa0",(0,A.jsxs)("label",{className:"jsx-272244364",children:[(0,A.jsx)("strong",{className:"jsx-272244364",children:"Subtitle"}),"\xa0\xa0",(0,A.jsx)("input",{type:"text",onChange:function(e){return S(e.target.value)},value:g,className:"jsx-272244364"})]}),"\xa0\xa0\xa0",(0,A.jsxs)("label",{className:"jsx-272244364",children:[(0,A.jsx)("input",{type:"checkbox",onChange:function(){return j(!m)},checked:m,className:"jsx-272244364"}),"Edit subject position"]}),"\xa0\xa0",(0,A.jsxs)("label",{className:"jsx-272244364",children:[(0,A.jsx)("input",{type:"checkbox",onChange:function(){return x(!h)},checked:h,className:"jsx-272244364"}),"Edit label position"]})]}),(0,A.jsxs)("div",{className:"jsx-272244364",children:[(0,A.jsx)("strong",{className:"jsx-272244364",children:"Label content type"}),(0,A.jsxs)("label",{className:"jsx-272244364",children:[(0,A.jsx)("input",{type:"radio",onChange:function(){return W("svg")},checked:"svg"===Y,className:"jsx-272244364"}),"Svg"]}),(0,A.jsxs)("label",{className:"jsx-272244364",children:[(0,A.jsx)("input",{type:"radio",onChange:function(){return W("html")},checked:"html"===Y,className:"jsx-272244364"}),"Html"]})]}),(0,A.jsxs)("div",{className:"jsx-272244364",children:[(0,A.jsx)("strong",{className:"jsx-272244364",children:"Connector type"}),(0,A.jsxs)("label",{className:"jsx-272244364",children:[(0,A.jsx)("input",{type:"radio",onChange:function(){return V("elbow")},checked:"elbow"===D,className:"jsx-272244364"}),"Elbow"]}),(0,A.jsxs)("label",{className:"jsx-272244364",children:[(0,A.jsx)("input",{type:"radio",onChange:function(){return V("line")},checked:"line"===D,className:"jsx-272244364"}),"Straight line"]})]}),(0,A.jsxs)("div",{className:"jsx-272244364",children:[(0,A.jsx)("strong",{className:"jsx-272244364",children:"Subject type"}),(0,A.jsxs)("label",{className:"jsx-272244364",children:[(0,A.jsx)("input",{type:"radio",onChange:function(){return M("circle")},checked:"circle"===q,className:"jsx-272244364"}),"Circle"]}),(0,A.jsxs)("label",{className:"jsx-272244364",children:[(0,A.jsx)("input",{type:"radio",onChange:function(){return M("vertical-line")},checked:"vertical-line"===q,className:"jsx-272244364"}),"Vertical line"]}),(0,A.jsxs)("label",{className:"jsx-272244364",children:[(0,A.jsx)("input",{type:"radio",onChange:function(){return M("horizontal-line")},checked:"horizontal-line"===q,className:"jsx-272244364"}),"Horizontal line"]})]}),(0,A.jsxs)("div",{className:"jsx-272244364",children:[(0,A.jsx)("strong",{className:"jsx-272244364",children:"Horizontal label anchor"}),(0,A.jsxs)("label",{className:"jsx-272244364",children:[(0,A.jsx)("input",{type:"radio",onChange:function(){return X("auto")},checked:"auto"===U,className:"jsx-272244364"}),"auto"]}),(0,A.jsxs)("label",{className:"jsx-272244364",children:[(0,A.jsx)("input",{type:"radio",onChange:function(){return X("start")},checked:"start"===U,className:"jsx-272244364"}),"left"]}),(0,A.jsxs)("label",{className:"jsx-272244364",children:[(0,A.jsx)("input",{type:"radio",onChange:function(){return X("middle")},checked:"middle"===U,className:"jsx-272244364"}),"middle"]}),(0,A.jsxs)("label",{className:"jsx-272244364",children:[(0,A.jsx)("input",{type:"radio",onChange:function(){return X("end")},checked:"end"===U,className:"jsx-272244364"}),"right"]})]}),(0,A.jsxs)("div",{className:"jsx-272244364",children:[(0,A.jsx)("strong",{className:"jsx-272244364",children:"Vertical label anchor"}),(0,A.jsxs)("label",{className:"jsx-272244364",children:[(0,A.jsx)("input",{type:"radio",onChange:function(){return G("auto")},checked:"auto"===J,className:"jsx-272244364"}),"auto"]}),(0,A.jsxs)("label",{className:"jsx-272244364",children:[(0,A.jsx)("input",{type:"radio",onChange:function(){return G("start")},checked:"start"===J,className:"jsx-272244364"}),"top"]}),(0,A.jsxs)("label",{className:"jsx-272244364",children:[(0,A.jsx)("input",{type:"radio",onChange:function(){return G("middle")},checked:"middle"===J,className:"jsx-272244364"}),"middle"]}),(0,A.jsxs)("label",{className:"jsx-272244364",children:[(0,A.jsx)("input",{type:"radio",onChange:function(){return G("end")},checked:"end"===J,className:"jsx-272244364"}),"bottom"]}),(0,A.jsx)("div",{className:"jsx-272244364",children:(0,A.jsxs)("label",{className:"jsx-272244364",children:[(0,A.jsx)("input",{type:"checkbox",onChange:function(){return H(!B)},checked:B,className:"jsx-272244364"}),"Show anchor line"]})})]})]}),(0,A.jsx)(N.default,{id:"272244364",children:[".controls.jsx-272244364{font-size:13px;line-height:1.5em;}",".controls.jsx-272244364>div.jsx-272244364{margin-bottom:4px;}"]})]})}try{D.displayName="ExampleControls",D.__docgenInfo={description:"",displayName:"ExampleControls",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},compact:{defaultValue:{value:!1},description:"",name:"compact",required:!1,type:{name:"boolean"}}}},"undefined"!==typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/sandboxes/visx-annotation/ExampleControls.tsx#ExampleControls"]={docgenInfo:D.__docgenInfo,name:"ExampleControls",path:"src/sandboxes/visx-annotation/ExampleControls.tsx#ExampleControls"})}catch(H){}var V=t(16949);function R(e){var n=e.value,t=e.scale,a=e.accessor,s=e.data,i=(0,V.Z)(a).left,o=t.invert(n),r=i(s,o,1),l=s[r-1],c=s[r],d=l;return c&&a(c)&&(d=o-a(l)>a(c)-o?c:l),d}try{R.displayName="findNearestDatum",R.__docgenInfo={description:"",displayName:"findNearestDatum",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},scale:{defaultValue:null,description:"",name:"scale",required:!0,type:{name:"ScaleLinear<unknown, unknown, never> | ScaleTime<unknown, unknown, never>"}},accessor:{defaultValue:null,description:"",name:"accessor",required:!0,type:{name:"(d: AppleStock) => number"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"AppleStock[]"}}}},"undefined"!==typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/sandboxes/visx-annotation/findNearestDatum.ts#findNearestDatum"]={docgenInfo:R.__docgenInfo,name:"findNearestDatum",path:"src/sandboxes/visx-annotation/findNearestDatum.ts#findNearestDatum"})}catch(H){}var q=["event"],M="#ff7e67",I=["#ecf4f3","#68b0ab","#006a71"];function B(e){var n=e.width,t=e.height,s=e.compact,i=void 0!==s&&s;return(0,A.jsx)(D,{width:n,height:t,compact:i,children:function(e){var s=e.AnnotationComponent,i=e.annotationPosition,o=e.approxTooltipHeight,r=e.connectorType,l=e.data,c=e.editLabelPosition,d=e.editSubjectPosition,u=e.getDate,h=e.getStockValue,x=e.horizontalAnchor,p=e.labelType,g=e.labelWidth,N=e.setAnnotationPosition,S=e.showAnchorLine,k=e.subjectType,C=e.subtitle,O=e.title,w=e.verticalAnchor,E=e.xScale,_=e.yScale;return(0,A.jsxs)("svg",{width:n,height:t,children:[(0,A.jsx)("rect",{width:n,height:t,fill:I[0]}),(0,A.jsx)(y.Z,{stroke:I[2],strokeWidth:2,data:l,x:function(e){var n;return null!==(n=E(u(e)))&&void 0!==n?n:0},y:function(e){var n;return null!==(n=_(h(e)))&&void 0!==n?n:0}}),(0,A.jsxs)(s,{width:n,height:t,x:i.x,y:i.y,dx:i.dx,dy:i.dy,canEditLabel:c,canEditSubject:d,onDragEnd:function(e){e.event;var s,i,r=(0,a.Z)(e,q),c=R({accessor:"horizontal-line"===k?h:u,data:l,scale:"horizontal-line"===k?_:E,value:"horizontal-line"===k?r.y:r.x}),d=null!==(s=E(u(c)))&&void 0!==s?s:0,x=null!==(i=_(h(c)))&&void 0!==i?i:0,p=r.dx>0&&d+r.dx+g>n||r.dx<0&&d+r.dx-g<=0,m=r.dy>0&&t-(x+r.dy)<o||r.dy<0&&x+r.dy-o<=0;N({x:d,y:x,dx:(p?-1:1)*r.dx,dy:(m?-1:1)*r.dy})},children:[(0,A.jsx)(j.Z,{stroke:M,type:r}),"svg"===p?(0,A.jsx)(f.Z,{backgroundFill:"white",showAnchorLine:S,anchorLineStroke:I[2],backgroundProps:{stroke:I[1]},fontColor:I[2],horizontalAnchor:x,subtitle:C,title:O,verticalAnchor:w,width:g}):(0,A.jsxs)(m,{showAnchorLine:S,anchorLineStroke:I[2],horizontalAnchor:x,verticalAnchor:w,containerStyle:{width:g,background:"white",border:"1px solid ".concat(I[1]),borderRadius:2,color:I[2],fontSize:"0.55em",lineHeight:"1em",padding:"0 0.4em 0 1em",fontWeight:200},children:[(0,A.jsx)("h3",{style:{margin:"1em 0 -0.5em"},children:O}),(0,A.jsx)("p",{children:C})]}),"circle"===k&&(0,A.jsx)(v.Z,{stroke:M}),"circle"!==k&&(0,A.jsx)(b.Z,{orientation:"vertical-line"===k?"vertical":"horizontal",stroke:M,min:0,max:"vertical-line"===k?t:n})]})]})}})}try{B.displayName="Example",B.__docgenInfo={description:"",displayName:"Example",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},compact:{defaultValue:{value:!1},description:"",name:"compact",required:!1,type:{name:"boolean"}}}},"undefined"!==typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/sandboxes/visx-annotation/Example.tsx#Example"]={docgenInfo:B.__docgenInfo,name:"Example",path:"src/sandboxes/visx-annotation/Example.tsx#Example"})}catch(H){}},57161:function(e){e.exports=JSON.parse('{"name":"@visx/demo-annotation","description":"Standalone visx annotation demo.","main":"index.tsx","private":true,"dependencies":{"@babel/runtime":"^7.8.4","@types/react":"^18","@types/react-dom":"^18","@visx/annotation":"latest","@visx/mock-data":"latest","@visx/responsive":"latest","@visx/scale":"latest","@visx/shape":"latest","@visx/vendor":"latest","react":"^18","react-dom":"^18","react-scripts-ts":"3.1.0","typescript":"^3"},"keywords":["visualization","d3","react","visx","annotation"]}')}}]);