"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9314],{9314:function(e,n,t){t.d(n,{Z:function(){return p}});var a=t(64993),r=t(76422),i=t(2784),s=t(99961),l=t(84202),c=t(9527),o=t(18159),u=t(65201),f=t(42613),d=t(52322),x=(0,a.Z)(new Array(1e3)),h=(0,f.Z)({range:[0,1],domain:[0,1e3]}),v=(0,f.Z)({domain:[0,600],range:[.5,8]}),g={scaleX:1.27,scaleY:1.27,translateX:-211.62,translateY:162.59,skewX:0,skewY:0};function p(e){var n=e.width,t=e.height,a=(0,i.useState)(!0),f=a[0],p=a[1],m=(0,u.Z)({radius:10,width:n,height:t}),b=x.map((function(e,n){return m(n)}));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.Z,{width:n,height:t,scaleXMin:.5,scaleXMax:4,scaleYMin:.5,scaleYMax:4,initialTransformMatrix:g,children:function(e){return(0,d.jsxs)("div",{className:"jsx-2155104041 relative",children:[(0,d.jsxs)("svg",{width:n,height:t,style:{cursor:e.isDragging?"grabbing":"grab",touchAction:"none"},ref:e.containerRef,className:"jsx-2155104041",children:[(0,d.jsx)(o.Z,{id:"zoom-clip",width:n,height:t}),(0,d.jsx)("rect",{width:n,height:t,rx:14,fill:"#0a0a0a",className:"jsx-2155104041"}),(0,d.jsx)("g",{transform:e.toString(),className:"jsx-2155104041",children:b.map((function(e,n){var t,a=e.x,r=e.y;return(0,d.jsx)(i.Fragment,{children:(0,d.jsx)("circle",{cx:a,cy:r,r:v(n>500?1e3-n:n),fill:(0,s.ZP)(null!==(t=h(n))&&void 0!==t?t:0),className:"jsx-2155104041"})},"dot-".concat(n))}))}),(0,d.jsx)("rect",{width:n,height:t,rx:14,fill:"transparent",onTouchStart:e.dragStart,onTouchMove:e.dragMove,onTouchEnd:e.dragEnd,onMouseDown:e.dragStart,onMouseMove:e.dragMove,onMouseUp:e.dragEnd,onMouseLeave:function(){e.isDragging&&e.dragEnd()},onDoubleClick:function(n){var t=(0,c.Z)(n)||{x:0,y:0};e.scale({scaleX:1.1,scaleY:1.1,point:t})},className:"jsx-2155104041"}),f&&(0,d.jsxs)("g",{clipPath:"url(#zoom-clip)",transform:"\n                    scale(0.25)\n                    translate(".concat(4*n-n-60,", ").concat(4*t-t-60,")\n                  "),className:"jsx-2155104041",children:[(0,d.jsx)("rect",{width:n,height:t,fill:"#1a1a1a",className:"jsx-2155104041"}),b.map((function(e,n){var t,a=e.x,r=e.y;return(0,d.jsx)(i.Fragment,{children:(0,d.jsx)("circle",{cx:a,cy:r,r:v(n>500?1e3-n:n),fill:(0,s.ZP)(null!==(t=h(n))&&void 0!==t?t:0),className:"jsx-2155104041"})},"dot-sm-".concat(n))})),(0,d.jsx)("rect",{width:n,height:t,fill:"white",fillOpacity:.2,stroke:"white",strokeWidth:4,transform:e.toStringInvert(),className:"jsx-2155104041"})]})]}),(0,d.jsxs)("div",{className:"jsx-2155104041 controls",children:[(0,d.jsx)("button",{type:"button",onClick:function(){return e.scale({scaleX:1.2,scaleY:1.2})},className:"jsx-2155104041 btn btn-zoom",children:"+"}),(0,d.jsx)("button",{type:"button",onClick:function(){return e.scale({scaleX:.8,scaleY:.8})},className:"jsx-2155104041 btn btn-zoom btn-bottom",children:"-"}),(0,d.jsx)("button",{type:"button",onClick:e.center,className:"jsx-2155104041 btn btn-lg",children:"Center"}),(0,d.jsx)("button",{type:"button",onClick:e.reset,className:"jsx-2155104041 btn btn-lg",children:"Reset"}),(0,d.jsx)("button",{type:"button",onClick:e.clear,className:"jsx-2155104041 btn btn-lg",children:"Clear"})]}),(0,d.jsx)("div",{className:"jsx-2155104041 mini-map",children:(0,d.jsxs)("button",{type:"button",onClick:function(){return p(!f)},className:"jsx-2155104041 btn btn-lg",children:[f?"Hide":"Show"," Mini Map"]})})]})}}),(0,d.jsxs)("div",{className:"jsx-2155104041 description",children:["Based on Mike Bostock's"," ",(0,d.jsx)("a",{href:"https://bl.ocks.org/mbostock/4e3925cdc804db257a86fdef3a032a45",className:"jsx-2155104041",children:"Pan & Zoom III"})]}),(0,d.jsx)(r.default,{id:"2155104041",children:[".btn.jsx-2155104041{margin:0;text-align:center;border:none;background:#2f2f2f;color:#888;padding:0 4px;border-top:1px solid #0a0a0a;}",".btn-lg.jsx-2155104041{font-size:12px;line-height:1;padding:4px;}",".btn-zoom.jsx-2155104041{width:26px;font-size:22px;}",".btn-bottom.jsx-2155104041{margin-bottom:1rem;}",".description.jsx-2155104041{font-size:12px;margin-right:0.25rem;}",".controls.jsx-2155104041{position:absolute;top:15px;right:15px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;}",".mini-map.jsx-2155104041{position:absolute;bottom:25px;right:15px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;}",".relative.jsx-2155104041{position:relative;}"]})]})}try{Example.displayName="Example",Example.__docgenInfo={description:"",displayName:"Example",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}}}},"undefined"!==typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/sandboxes/visx-zoom-i/Example.tsx#Example"]={docgenInfo:Example.__docgenInfo,name:"Example",path:"src/sandboxes/visx-zoom-i/Example.tsx#Example"})}catch(m){}},58741:function(e,n,t){t.d(n,{Z:function(){return c}});var a=t(13980),r=t.n(a),i=t(2784),s=["id","children"];function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function c(e){var n=e.id,t=e.children,a=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,s);return i.createElement("defs",null,i.createElement("clipPath",l({id:n},a),t))}c.propTypes={id:r().string.isRequired,children:r().node}},18159:function(e,n,t){t.d(n,{Z:function(){return o}});var a=t(13980),r=t.n(a),i=t(2784),s=t(58741),l=["id","x","y","width","height"];function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function o(e){var n=e.id,t=e.x,a=void 0===t?0:t,r=e.y,o=void 0===r?0:r,u=e.width,f=void 0===u?1:u,d=e.height,x=void 0===d?1:d,h=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,l);return i.createElement(s.Z,{id:n},i.createElement("rect",c({x:a,y:o,width:f,height:x},h)))}o.propTypes={id:r().string.isRequired,x:r().oneOfType([r().string,r().number]),y:r().oneOfType([r().string,r().number]),width:r().oneOfType([r().string,r().number]),height:r().oneOfType([r().string,r().number])}},9527:function(e,n,t){t.d(n,{Z:function(){return i}});var a=t(78481),r=t(47513);function i(e,n){if((0,r.kK)(e)&&n)return(0,a.Z)(e,n);if((0,r.cO)(e)){var t=e,i=t.target;if(i)return(0,a.Z)(i,t)}return null}},78481:function(e,n,t){t.d(n,{Z:function(){return l}});var a=t(79196),r=t(47513);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}var s={x:0,y:0};function l(e,n){if(!e||!n)return null;var t=function(e){if(!e)return i({},s);if((0,r.z6)(e))return e.changedTouches.length>0?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:i({},s);if((0,r.N5)(e))return{x:e.clientX,y:e.clientY};var n=null==e?void 0:e.target,t=n&&"getBoundingClientRect"in n?n.getBoundingClientRect():null;return t?{x:t.x+t.width/2,y:t.y+t.height/2}:i({},s)}(n),l=(0,r.vZ)(e)?e.ownerSVGElement:e,c=(0,r.DY)(l)?l.getScreenCTM():null;if((0,r.r4)(l)&&c){var o=l.createSVGPoint();return o.x=t.x,o.y=t.y,o=o.matrixTransform(c.inverse()),new a.Z({x:o.x,y:o.y})}var u=e.getBoundingClientRect();return new a.Z({x:t.x-u.left-e.clientLeft,y:t.y-u.top-e.clientTop})}},47513:function(e,n,t){function a(e){return!!e&&e instanceof Element}function r(e){return!!e&&(e instanceof SVGElement||"ownerSVGElement"in e)}function i(e){return!!e&&"createSVGPoint"in e}function s(e){return!!e&&"getScreenCTM"in e}function l(e){return!!e&&"changedTouches"in e}function c(e){return!!e&&"clientX"in e}function o(e){return!!e&&(e instanceof Event||"nativeEvent"in e&&e.nativeEvent instanceof Event)}t.d(n,{kK:function(){return a},vZ:function(){return r},r4:function(){return i},DY:function(){return s},z6:function(){return l},N5:function(){return c},cO:function(){return o}})},65201:function(e,n){n.Z=function(e){var n=e.radius,t=e.width,a=e.height,r=Math.PI*(3-Math.sqrt(5));return function(e){var i=n*Math.sqrt(e),s=r*e;return{x:t/2+i*Math.cos(s),y:a/2+i*Math.sin(s)}}}},84202:function(e,n,t){t.d(n,{Z:function(){return y}});var a=t(13980),r=t.n(a),i=t(2784),s=t(9527),l=t(42914);function c(e){var n=e.scaleX,t=void 0===n?1:n,a=e.scaleY,r=void 0===a?1:a,i=e.translateX,s=void 0===i?0:i,l=e.translateY,c=void 0===l?0:l,o=e.skewX,u=void 0===o?0:o,f=e.skewY;return{scaleX:t,scaleY:r,translateX:s,translateY:c,skewX:u,skewY:void 0===f?0:f}}function o(e){var n=e.scaleX,t=e.scaleY,a=e.translateX,r=e.translateY,i=e.skewX,s=e.skewY,l=n*t-s*i;return{scaleX:t/l,scaleY:n/l,translateX:(t*a-i*r)/-l,translateY:(s*a-n*r)/l,skewX:i/-l,skewY:s/-l}}function u(e,n){var t=n.x,a=n.y;return{x:e.scaleX*t+e.skewX*a+e.translateX,y:e.skewY*t+e.scaleY*a+e.translateY}}function f(e,n){var t=n.x,a=n.y;return u(o(e),{x:t,y:a})}function d(e,n){return c({translateX:e,translateY:n})}function x(e,n){return{scaleX:e.scaleX*n.scaleX+e.skewX*n.skewY,scaleY:e.skewY*n.skewX+e.scaleY*n.scaleY,translateX:e.scaleX*n.translateX+e.skewX*n.translateY+e.translateX,translateY:e.skewY*n.translateX+e.scaleY*n.translateY+e.translateY,skewX:e.scaleX*n.skewX+e.skewX*n.scaleY,skewY:e.skewY*n.scaleX+e.scaleY*n.skewY}}function h(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];switch(n.length){case 0:throw new Error("composeMatrices() requires arguments: was called with no args");case 1:return n[0];case 2:return x(n[0],n[1]);default:var a=n[0],r=n[1],i=n.slice(2),s=x(a,r);return h.apply(void 0,[s].concat(i))}}function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}var g={scaleX:1,scaleY:1,translateX:0,translateY:0,skewX:0,skewY:0},p=function(e){return-e.deltaY>0?{scaleX:1.1,scaleY:1.1}:{scaleX:.9,scaleY:.9}},m=function(e){var n=e.offset[0],t=e.lastOffset[0];return{scaleX:n-t<0?.9:1.1,scaleY:n-t<0?.9:1.1}};function b(e){var n=e.scaleXMin,t=void 0===n?0:n,a=e.scaleXMax,r=void 0===a?1/0:a,x=e.scaleYMin,b=void 0===x?0:x,y=e.scaleYMax,Y=void 0===y?1/0:y,w=e.initialTransformMatrix,k=void 0===w?g:w,X=e.wheelDelta,j=void 0===X?p:X,C=e.pinchDelta,E=void 0===C?m:C,M=e.width,O=e.height,T=e.constrain,S=e.children,Z=(0,i.useRef)(null),N=(0,i.useRef)(k),R=(0,i.useState)(k),P=R[0],D=R[1],z=(0,i.useState)(!1),_=z[0],q=z[1],I=(0,i.useState)(void 0),B=I[0],A=I[1],V=(0,i.useState)(void 0),K=V[0],G=V[1],F=(0,i.useCallback)((function(e,n){if(T)return T(e,n);var a=e.scaleX,i=e.scaleY;return a>r||a<t||(i>Y||i<b)?n:e}),[T,t,r,b,Y]),L=(0,i.useCallback)((function(e){D((function(n){var t=F(e,n);return N.current=t,t}))}),[F]),W=(0,i.useCallback)((function(e){var n=e.x,t=e.y;return u(P,{x:n,y:t})}),[P]),H=(0,i.useCallback)((function(e){var n=e.x,t=e.y;return f(P,{x:n,y:t})}),[P]),U=(0,i.useCallback)((function(){L(k)}),[k,L]),J=(0,i.useCallback)((function(e){var n=e.scaleX,t=e.scaleY,a=e.point,r=t||n,i=a||{x:M/2,y:O/2},s=f(N.current,i),l=h(N.current,d(s.x,s.y),function(e,n){return void 0===n&&(n=void 0),c({scaleX:e,scaleY:n||e})}(n,r),d(-s.x,-s.y));if(L(l),_){var o=N.current,u=o.translateX,x=o.translateY;G(a),A({translateX:u,translateY:x})}}),[O,M,_,L]),Q=(0,i.useCallback)((function(e){var n=e.translateX,t=e.translateY,a=h(P,d(n,t));L(a)}),[L,P]),$=(0,i.useCallback)((function(e){var n=e.translateX,t=e.translateY,a=v({},P,{translateX:n,translateY:t});L(a)}),[L,P]),ee=(0,i.useCallback)((function(e){var n=e.x,t=e.y,a=f(P,{x:n,y:t});$({translateX:a.x,translateY:a.y})}),[$,P]),ne=(0,i.useCallback)((function(){return o(P)}),[P]),te=(0,i.useCallback)((function(){var e=ne(),n=e.translateX,t=e.translateY,a=e.scaleX,r=e.scaleY,i=e.skewX;return"matrix("+a+", "+e.skewY+", "+i+", "+r+", "+n+", "+t+")"}),[ne]),ae=(0,i.useCallback)((function(e){var n=P.translateX,t=P.translateY;G((0,s.Z)(e)||void 0),A({translateX:n,translateY:t}),q(!0)}),[P]),re=(0,i.useCallback)((function(e,n){var t,a;if(_&&K&&B){var r=(0,s.Z)(e),i=r?-(K.x-r.x):-K.x,l=r?-(K.y-r.y):-K.y,c=B.translateX+i;null!=n&&n.offsetX&&(c+=null!=(t=null==n?void 0:n.offsetX)?t:0);var o=B.translateY+l;null!=n&&n.offsetY&&(o+=null!=(a=null==n?void 0:n.offsetY)?a:0),$({translateX:c,translateY:o})}}),[_,$,K,B]),ie=(0,i.useCallback)((function(){G(void 0),A(void 0),q(!1)}),[]),se=(0,i.useCallback)((function(e){e.preventDefault();var n=(0,s.Z)(e)||void 0,t=j(e),a=t.scaleX,r=t.scaleY;J({scaleX:a,scaleY:r,point:n})}),[J,j]),le=(0,i.useCallback)((function(e){var n=e.origin,t=n[0],a=n[1],r=e.memo;if(Z.current){var i,s=null!=(i=r)?i:Z.current.getBoundingClientRect(),l=s.top,c=s.left;r||(r={top:l,left:c});var o=E(e),u=o.scaleX,f=o.scaleY;J({scaleX:u,scaleY:f,point:{x:t-c,y:a-l}})}return r}),[J,E]),ce=(0,i.useCallback)((function(){var e=P.translateX,n=P.translateY,t=P.scaleX,a=P.scaleY,r=P.skewX;return"matrix("+t+", "+P.skewY+", "+r+", "+a+", "+e+", "+n+")"}),[P]),oe=(0,i.useCallback)((function(){var e={x:M/2,y:O/2},n=H(e);Q({translateX:n.x-e.x,translateY:n.y-e.y})}),[O,M,H,Q]),ue=(0,i.useCallback)((function(){L({scaleX:1,scaleY:1,translateX:0,translateY:0,skewX:0,skewY:0})}),[L]);(0,l.T2)({onDragStart:function(e){var n=e.event;n instanceof KeyboardEvent||ae(n)},onDrag:function(e){var n=e.event,t=e.pinching,a=e.cancel;t?(a(),ie()):n instanceof KeyboardEvent||re(n)},onDragEnd:ie,onPinch:le,onWheel:function(e){var n=e.event,t=e.active;!e.pinching&&t&&se(n)}},{target:Z,eventOptions:{passive:!1},drag:{filterTaps:!0}});var fe={initialTransformMatrix:k,transformMatrix:P,isDragging:_,center:oe,clear:ue,scale:J,translate:Q,translateTo:ee,setTranslate:$,setTransformMatrix:L,reset:U,handleWheel:se,handlePinch:le,dragEnd:ie,dragMove:re,dragStart:ae,toString:ce,invert:ne,toStringInvert:te,applyToPoint:W,applyInverseToPoint:H,containerRef:Z};return i.createElement(i.Fragment,null,S(fe))}b.propTypes={width:r().number.isRequired,height:r().number.isRequired,wheelDelta:r().func,scaleXMin:r().number,scaleXMax:r().number,scaleYMin:r().number,scaleYMax:r().number,constrain:r().func,children:r().func.isRequired};var y=b}}]);