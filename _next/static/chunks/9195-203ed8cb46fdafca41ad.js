"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9195],{25532:function(e,n,t){t.d(n,{Z:function(){return y}});var r=t(76422),i=t(2784),a=t(53188),o=t(64276),s=t(13980),c=t.n(s),d=t(63391);function u(e){var n=e.captureDragArea,t=void 0===n||n,r=e.snapToPointer,a=void 0===r||r,o=e.children,s=e.dx,c=e.dy,u=e.height,l=e.onDragEnd,f=e.onDragMove,g=e.onDragStart,x=e.resetOnStart,p=e.width,y=e.x,h=e.y,m=e.isDragging,v=e.restrict,b=e.restrictToPath,w=(0,d.Z)({resetOnStart:x,snapToPointer:a,onDragEnd:l,onDragMove:f,onDragStart:g,x:y,y:h,dx:s,dy:c,isDragging:m,restrict:v,restrictToPath:b});return i.createElement(i.Fragment,null,w.isDragging&&t&&i.createElement("rect",{width:p,height:u,onPointerDown:w.dragStart,onPointerMove:w.dragMove,onPointerUp:w.dragEnd,fill:"transparent"}),o(w))}u.propTypes={children:c().func.isRequired,width:c().number.isRequired,height:c().number.isRequired,captureDragArea:c().bool,isDragging:c().bool};var l=t(39183),f=function(e){var n=e.width,t=e.height,r=(0,l.Z)(.2),i=(0,l.Z)(.3),a=(0,l.Z)(.4);return new Array(n<360?40:185).fill(1).map((function(e,o){var s=25-20*r();return{id:"".concat(o),radius:s,x:Math.round(i()*(n-2*s)+s),y:Math.round(a()*(t-2*s)+s)}}))},g=f;try{f.displayName="generateCircles",f.__docgenInfo={description:"",displayName:"generateCircles",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}}}},"undefined"!==typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/sandboxes/visx-drag-i/generateCircles.ts#generateCircles"]={docgenInfo:f.__docgenInfo,name:"generateCircles",path:"src/sandboxes/visx-drag-i/generateCircles.ts#generateCircles"})}catch(h){}var x=t(52322),p=["#025aac","#02cff9","#02efff","#03aeed","#0384d7","#edfdff","#ab31ff","#5924d7","#d145ff","#1a02b1","#e582ff","#ff00d4","#270eff","#827ce2"];function y(e){var n=e.width,t=e.height,s=(0,i.useState)([]),c=s[0],d=s[1];(0,i.useEffect)((function(){n>10&&t>10&&d(g({width:n,height:t}))}),[n,t]);var l=(0,i.useMemo)((function(){return(0,a.Z)({range:p,domain:c.map((function(e){return e.id}))})}),[n,t]);return 0===c.length||n<10?null:(0,x.jsxs)("div",{style:{touchAction:"none"},className:"jsx-856181217 Drag",children:[(0,x.jsxs)("svg",{width:n,height:t,className:"jsx-856181217",children:[(0,x.jsx)(o.Z,{id:"stroke",from:"#ff00a5",to:"#ffc500"}),(0,x.jsx)("rect",{fill:"#c4c3cb",width:n,height:t,rx:14,className:"jsx-856181217"}),c.map((function(e,r){return(0,x.jsx)(u,{width:n,height:t,x:e.x,y:e.y,onDragStart:function(){d(function(e,n){var t=[].concat(e),r=t.length-1,i=t.splice(n,1)[0];return t.splice(r,0,i),t}(c,r))},children:function(n){var t=n.dragStart,r=n.dragEnd,i=n.dragMove,a=n.isDragging,o=n.x,s=n.y,c=n.dx,d=n.dy;return(0,x.jsx)("circle",{cx:o,cy:s,r:a?e.radius+4:e.radius,fill:a?"url(#stroke)":l(e.id),transform:"translate(".concat(c,", ").concat(d,")"),fillOpacity:.9,stroke:a?"white":"transparent",strokeWidth:2,onMouseMove:i,onMouseUp:r,onMouseDown:t,onTouchStart:t,onTouchMove:i,onTouchEnd:r,className:"jsx-856181217"},"dot-".concat(e.id))}},"drag-".concat(e.id))}))]}),(0,x.jsx)("div",{className:"jsx-856181217 deets",children:(0,x.jsxs)("div",{className:"jsx-856181217",children:["Based on Mike Bostock's"," ",(0,x.jsx)("a",{href:"https://bl.ocks.org/mbostock/c206c20294258c18832ff80d8fd395c3",className:"jsx-856181217",children:"Circle Dragging II"})]})}),(0,x.jsx)(r.default,{id:"856181217",children:[".Drag.jsx-856181217{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}","svg.jsx-856181217{margin:1rem 0;}",".deets.jsx-856181217{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;font-size:12px;}",".deets.jsx-856181217>div.jsx-856181217{margin:0.25rem;}"]})]})}try{Example.displayName="Example",Example.__docgenInfo={description:"",displayName:"Example",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}}}},"undefined"!==typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/sandboxes/visx-drag-i/Example.tsx#Example"]={docgenInfo:Example.__docgenInfo,name:"Example",path:"src/sandboxes/visx-drag-i/Example.tsx#Example"})}catch(h){}},63391:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(2784),i=t(79196),a=t(66406),o=t(95704),s=t(9527);function c(e,n,t){return Math.min(Math.max(e,n),t)}function d(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function l(e,n,t){var r,i,a,o;return void 0===t&&(t={}),n.length>0?function(e,n){for(var t,r=e,i=1/0,a=d(n);!(t=a()).done;){var o=t.value,s=Math.sqrt(Math.pow(o.x-e.x,2)+Math.pow(o.y-e.y,2));s<i&&(i=s,r={x:o.x,y:o.y})}return r}(e,n):{x:c(e.x,null!=(r=t.xMin)?r:-1/0,null!=(i=t.xMax)?i:1/0),y:c(e.y,null!=(a=t.yMin)?a:-1/0,null!=(o=t.yMax)?o:1/0)}}function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function g(e){var n=void 0===e?{}:e,t=n.resetOnStart,c=void 0!==t&&t,d=n.snapToPointer,u=void 0===d||d,g=n.onDragEnd,x=n.onDragMove,p=n.onDragStart,y=n.x,h=n.y,m=n.dx,v=n.dy,b=n.isDragging,w=n.restrict,S=void 0===w?{}:w,E=n.restrictToPath,D=(0,r.useRef)({x:y,y:h,dx:m,dy:v}),M=function(e){var n=(0,r.useState)(e),t=n[0],i=n[1],a=(0,r.useRef)(null),o=(0,r.useCallback)((function(e,n){a.current=n||null,i(e)}),[i]);return(0,r.useLayoutEffect)((function(){a.current&&(a.current(t),a.current=null)}),[t]),[t,o]}({x:y,y:h,dx:null!=m?m:0,dy:null!=v?v:0,isDragging:!1}),j=M[0],k=M[1],C=(0,r.useState)(new i.Z({x:0,y:0})),O=C[0],T=C[1];(0,r.useEffect)((function(){D.current.x===y&&D.current.y===h&&D.current.dx===m&&D.current.dy===v||(D.current={x:y,y:h,dx:m,dy:v},k((function(e){return f({},e,{x:y,y:h,dx:null!=m?m:0,dy:null!=v?v:0})})))})),(0,r.useEffect)((function(){void 0!==b&&j.isDragging!==b&&k((function(e){return f({},e,{isDragging:b})}))}),[j.isDragging,b,k]);var _=function(e){return(0,r.useMemo)((function(){if(!e)return[];var n=e.getCTM()||new DOMMatrix;return function(e,n,t){if(void 0===t&&(t=1),!e)return[];for(var r=[],i=e.getTotalLength(),a=0;a<=i;a+=t){var o=e.getPointAtLength(a).matrixTransform(n);r.push(o)}return r}(e,n)}),[null==e?void 0:e.getTotalLength()])}(E),A=(0,r.useCallback)((function(e){e.persist(),k((function(n){var t=n.x,r=void 0===t?0:t,o=n.y,d=void 0===o?0:o,f=n.dx,g=n.dy,x=new i.Z({x:(r||0)+f,y:(d||0)+g}),p=(0,s.Z)(e)||new i.Z({x:0,y:0}),y=l(u?p:x,_,S);return T((0,a.Z)(x,p)),{isDragging:!0,dx:c?0:n.dx,dy:c?0:n.dy,x:c?y.x:y.x-n.dx,y:c?y.y:y.y-n.dy}}),p&&function(n){p(f({},n,{event:e}))})}),[p,c,S,_,k,u]),Z=(0,r.useCallback)((function(e){e.persist(),k((function(n){if(!n.isDragging)return n;var t=n.x,r=void 0===t?0:t,a=n.y,c=void 0===a?0:a,d=(0,s.Z)(e)||new i.Z({x:0,y:0}),g=l(u?d:(0,o.Z)(d,O),_,S);return f({},n,{dx:g.x-r,dy:g.y-c})}),x&&function(n){n.isDragging&&x(f({},n,{event:e}))})}),[k,x,u,O,_,S]),N=(0,r.useCallback)((function(e){e.persist(),k((function(e){return f({},e,{isDragging:!1})}),g&&function(n){g(f({},n,{event:e}))})}),[g,k]);return f({},j,{dragEnd:N,dragMove:Z,dragStart:A})}},39183:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(89422);function i(e){return(0,r.Z)(e)}},89993:function(e){e.exports=JSON.parse('{"name":"@visx/demo-drag-i","description":"Standalone visx drag demo.","main":"index.tsx","private":true,"dependencies":{"@babel/runtime":"^7.8.4","@types/react":"^18","@types/react-dom":"^18","@visx/drag":"latest","@visx/gradient":"latest","@visx/mock-data":"latest","@visx/responsive":"latest","@visx/scale":"latest","react":"^18","react-dom":"^18","react-scripts-ts":"3.1.0","typescript":"^3"},"keywords":["visualization","d3","react","visx","drag"]}')}}]);